<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>현대건설 실적 대시보드</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&family=Bebas+Neue&display=swap');

  :root {
    --bg: #0b0f1a;
    --surface: #111827;
    --surface2: #1a2235;
    --border: rgba(255,255,255,0.07);
    --accent: #00c4b4;
    --accent2: #3b82f6;
    --accent3: #f59e0b;
    --text: #e8eaf0;
    --text-dim: #6b7280;
    --text-mid: #9ca3af;
    --red: #ef4444;
    --green: #10b981;
    --div-width: 1400px;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Noto Sans KR', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* HEADER */
  header {
    background: linear-gradient(135deg, #0d1424 0%, #0f1f3d 100%);
    border-bottom: 1px solid var(--border);
    padding: 0 24px;
    position: sticky;
    top: 0;
    z-index: 100;
    backdrop-filter: blur(10px);
  }
  .header-inner {
    max-width: var(--div-width);
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 64px;
    gap: 16px;
  }
  .logo {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .logo-mark {
    width: 36px; height: 36px;
    background: var(--accent);
    clip-path: polygon(0 25%, 50% 0, 100% 25%, 100% 75%, 50% 100%, 0 75%);
    flex-shrink: 0;
  }
  .logo-text {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 22px;
    letter-spacing: 2px;
    color: #fff;
  }
  .logo-sub {
    font-size: 11px;
    color: var(--text-dim);
    letter-spacing: 1px;
  }
  .header-controls {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
  }
  .ctrl-group {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .ctrl-label {
    font-size: 12px;
    color: var(--text-dim);
    white-space: nowrap;
  }
  select, input[type="month"] {
    background: var(--surface2);
    border: 1px solid var(--border);
    color: var(--text);
    padding: 6px 10px;
    border-radius: 6px;
    font-family: inherit;
    font-size: 13px;
    cursor: pointer;
    outline: none;
    transition: border-color 0.2s;
  }
  select:hover, input[type="month"]:hover { border-color: var(--accent); }

  /* TOGGLE */
  .toggle-group {
    display: flex;
    background: var(--surface2);
    border-radius: 8px;
    padding: 3px;
    border: 1px solid var(--border);
  }
  .toggle-btn {
    padding: 5px 14px;
    border-radius: 6px;
    border: none;
    background: transparent;
    color: var(--text-dim);
    font-family: inherit;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }
  .toggle-btn.active {
    background: var(--accent);
    color: #000;
    font-weight: 700;
  }

  /* MAIN */
  main {
    max-width: var(--div-width);
    margin: 0 auto;
    padding: 24px 24px 60px;
  }

  /* SECTION TITLE */
  .section-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 16px;
    margin-top: 32px;
  }
  .section-header:first-child { margin-top: 0; }
  .section-title {
    font-size: 15px;
    font-weight: 700;
    letter-spacing: 1px;
    color: var(--text);
  }
  .section-badge {
    font-size: 11px;
    padding: 2px 8px;
    border-radius: 20px;
    font-weight: 600;
    letter-spacing: 0.5px;
  }
  .badge-cumulative { background: rgba(0,196,180,0.15); color: var(--accent); }
  .badge-monthly { background: rgba(59,130,246,0.15); color: var(--accent2); }

  /* SUMMARY CARDS */
  .summary-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 14px;
    margin-bottom: 32px;
  }
  .summary-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    position: relative;
    overflow: hidden;
    transition: transform 0.2s, border-color 0.2s;
  }
  .summary-card:hover { transform: translateY(-2px); border-color: rgba(255,255,255,0.14); }
  .summary-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
  }
  .card-orders::before { background: var(--accent); }
  .card-sales::before { background: var(--accent2); }
  .card-profit::before { background: var(--accent3); }
  .card-receivable::before { background: #a855f7; }

  .card-label {
    font-size: 12px;
    color: var(--text-dim);
    letter-spacing: 0.5px;
    margin-bottom: 8px;
    font-weight: 500;
  }
  .card-value {
    font-size: 28px;
    font-weight: 700;
    color: #fff;
    line-height: 1;
    margin-bottom: 6px;
  }
  .card-unit { font-size: 13px; color: var(--text-dim); }
  .card-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid var(--border);
  }
  .card-rate-label { font-size: 11px; color: var(--text-dim); }
  .card-rate {
    font-size: 12px;
    font-weight: 700;
    padding: 2px 7px;
    border-radius: 4px;
  }
  .rate-good { background: rgba(16,185,129,0.15); color: var(--green); }
  .rate-neutral { background: rgba(59,130,246,0.15); color: var(--accent2); }

  /* DEPT TABLE */
  .dept-table-wrap {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 32px;
  }
  table {
    width: 100%;
    border-collapse: collapse;
  }
  thead tr {
    background: var(--surface2);
  }
  th {
    padding: 12px 16px;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-dim);
    text-align: right;
    letter-spacing: 0.5px;
    border-bottom: 1px solid var(--border);
    white-space: nowrap;
  }
  th:first-child { text-align: left; }
  td {
    padding: 13px 16px;
    font-size: 13px;
    text-align: right;
    border-bottom: 1px solid var(--border);
    color: var(--text);
    white-space: nowrap;
  }
  td:first-child {
    text-align: left;
    font-weight: 600;
  }
  tr:last-child td { border-bottom: none; }
  tr.total-row { background: rgba(0,196,180,0.05); }
  tr.total-row td { font-weight: 700; color: var(--accent); }
  tr:not(.total-row):hover td { background: rgba(255,255,255,0.03); }

  .pill {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
  }
  .pill-teal { background: rgba(0,196,180,0.12); color: var(--accent); }
  .pill-blue { background: rgba(59,130,246,0.12); color: #60a5fa; }
  .pill-amber { background: rgba(245,158,11,0.12); color: var(--accent3); }
  .pill-purple { background: rgba(168,85,247,0.12); color: #c084fc; }
  .pill-red { background: rgba(239,68,68,0.12); color: #f87171; }

  .progress-bar {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    width: 100%;
    justify-content: flex-end;
  }
  .bar-track {
    width: 60px;
    height: 4px;
    background: rgba(255,255,255,0.08);
    border-radius: 2px;
    overflow: hidden;
    flex-shrink: 0;
  }
  .bar-fill {
    height: 100%;
    border-radius: 2px;
    background: var(--accent);
    transition: width 0.6s ease;
  }
  .bar-pct { font-size: 12px; font-weight: 600; color: var(--accent); min-width: 38px; }

  /* CHARTS */
  .chart-section-title {
    font-size: 14px;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 4px;
  }
  .chart-section-sub {
    font-size: 12px;
    color: var(--text-dim);
    margin-bottom: 16px;
  }
  .chart-tabs {
    display: flex;
    gap: 6px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }
  .chart-tab {
    padding: 6px 14px;
    border-radius: 20px;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--text-dim);
    font-family: inherit;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }
  .chart-tab.active {
    border-color: var(--accent);
    color: var(--accent);
    background: rgba(0,196,180,0.08);
  }
  .chart-item-tabs {
    display: flex;
    gap: 6px;
    margin-bottom: 16px;
    flex-wrap: wrap;
  }
  .chart-item-tab {
    padding: 5px 12px;
    border-radius: 20px;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--text-dim);
    font-family: inherit;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .chart-item-tab.active { border-color: var(--accent2); color: var(--accent2); background: rgba(59,130,246,0.08); }

  .charts-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
  }
  .chart-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
  }
  .chart-card-title {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-mid);
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .chart-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
  }
  .chart-wrap {
    position: relative;
    height: 220px;
  }
  .chart-full .chart-wrap { height: 260px; }
  .chart-full {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
  }

  /* DEPT LEGEND */
  .dept-legend {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    margin-bottom: 16px;
  }
  .dept-legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    color: var(--text-mid);
    cursor: pointer;
  }
  .dept-legend-dot {
    width: 10px; height: 10px;
    border-radius: 2px;
    flex-shrink: 0;
  }

  /* FOOTER */
  footer {
    border-top: 1px solid var(--border);
    padding: 16px 24px;
    text-align: center;
    font-size: 11px;
    color: var(--text-dim);
    letter-spacing: 0.5px;
  }

  /* RESPONSIVE */
  @media (max-width: 900px) {
    .summary-grid { grid-template-columns: repeat(2, 1fr); }
    .charts-grid { grid-template-columns: 1fr; }
    .header-inner { flex-wrap: wrap; height: auto; padding: 12px 0; }
    .header-controls { width: 100%; justify-content: flex-start; }
  }
  @media (max-width: 600px) {
    .summary-grid { grid-template-columns: 1fr 1fr; }
    main { padding: 16px 16px 40px; }
    header { padding: 0 16px; }
    .card-value { font-size: 22px; }
    th, td { padding: 10px 10px; font-size: 12px; }
    .bar-track { width: 40px; }
    .chart-tabs { gap: 4px; }
    .chart-tab { padding: 5px 10px; font-size: 11px; }
  }
  @media (max-width: 420px) {
    .summary-grid { grid-template-columns: 1fr; }
  }

  /* ANIMATIONS */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .summary-card { animation: fadeUp 0.4s ease both; }
  .summary-card:nth-child(1) { animation-delay: 0.05s; }
  .summary-card:nth-child(2) { animation-delay: 0.1s; }
  .summary-card:nth-child(3) { animation-delay: 0.15s; }
  .summary-card:nth-child(4) { animation-delay: 0.2s; }
</style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="logo">
      <div class="logo-mark"></div>
      <div>
        <div class="logo-text">HYUNDAI E&C</div>
        <div class="logo-sub">실적 관리 대시보드</div>
      </div>
    </div>
    <div class="header-controls">
      <div class="ctrl-group">
        <span class="ctrl-label">기준월</span>
        <input type="month" id="baseMonth">
      </div>
      <div class="toggle-group">
        <button class="toggle-btn active" id="btnCumulative" onclick="setMode('cumulative')">누계</button>
        <button class="toggle-btn" id="btnMonthly" onclick="setMode('monthly')">당월</button>
      </div>
    </div>
  </div>
</header>

<main>

  <!-- SUMMARY CARDS -->
  <div class="section-header">
    <span class="section-title">전사 종합 실적</span>
    <span class="section-badge badge-cumulative" id="modeBadge">누계</span>
  </div>
  <div class="summary-grid">
    <div class="summary-card card-orders">
      <div class="card-label">수주 실적</div>
      <div class="card-value" id="totalOrders">—</div>
      <div class="card-unit">억원</div>
      <div class="card-meta">
        <span class="card-rate-label">진도율</span>
        <span class="card-rate rate-good" id="totalOrdersRate">—</span>
        <span class="card-rate-label" style="margin-left:4px">계획비</span>
        <span class="card-rate rate-neutral" id="totalOrdersPlan">—</span>
      </div>
    </div>
    <div class="summary-card card-sales">
      <div class="card-label">매출 실적</div>
      <div class="card-value" id="totalSales">—</div>
      <div class="card-unit">억원</div>
      <div class="card-meta">
        <span class="card-rate-label">진도율</span>
        <span class="card-rate rate-good" id="totalSalesRate">—</span>
        <span class="card-rate-label" style="margin-left:4px">계획비</span>
        <span class="card-rate rate-neutral" id="totalSalesPlan">—</span>
      </div>
    </div>
    <div class="summary-card card-profit">
      <div class="card-label">경상손익 실적</div>
      <div class="card-value" id="totalProfit">—</div>
      <div class="card-unit">억원</div>
      <div class="card-meta">
        <span class="card-rate-label">진도율</span>
        <span class="card-rate rate-good" id="totalProfitRate">—</span>
        <span class="card-rate-label" style="margin-left:4px">계획비</span>
        <span class="card-rate rate-neutral" id="totalProfitPlan">—</span>
      </div>
    </div>
    <div class="summary-card card-receivable">
      <div class="card-label">미수채권 잔액</div>
      <div class="card-value" id="totalReceivable">—</div>
      <div class="card-unit">억원</div>
      <div class="card-meta">
        <span class="card-rate-label">진도율</span>
        <span class="card-rate rate-good" id="totalReceivableRate">—</span>
        <span class="card-rate-label" style="margin-left:4px">계획비</span>
        <span class="card-rate rate-neutral" id="totalReceivablePlan">—</span>
      </div>
    </div>
  </div>

  <!-- DEPT TABLE -->
  <div class="section-header">
    <span class="section-title">본부별 실적 현황</span>
    <span style="font-size:12px;color:var(--text-dim)">(단위: 억원 / %, 진도율 = 실적/계획)</span>
  </div>
  <div class="dept-table-wrap">
    <table id="deptTable">
      <thead>
        <tr>
          <th>본부</th>
          <th>수주 실적</th>
          <th>수주 계획</th>
          <th>수주 진도율</th>
          <th>매출 실적</th>
          <th>매출 계획</th>
          <th>매출 진도율</th>
          <th>손익 실적</th>
          <th>손익 계획</th>
          <th>손익 진도율</th>
          <th>미수 실적</th>
          <th>미수 계획</th>
          <th>미수 진도율</th>
        </tr>
      </thead>
      <tbody id="deptTbody"></tbody>
    </table>
  </div>

  <!-- 10년 추이 차트 -->
  <div class="section-header" style="margin-top:0">
    <span class="section-title">본부 &amp; 항목별 10년 추이</span>
    <span style="font-size:12px;color:var(--text-dim)">연간 누계 기준</span>
  </div>

  <div class="chart-tabs" id="chartDeptTabs"></div>
  <div class="chart-item-tabs" id="chartItemTabs"></div>

  <div class="dept-legend" id="deptLegend"></div>

  <div class="charts-grid">
    <div class="chart-card">
      <div class="chart-card-title"><span class="chart-dot" style="background:var(--accent)"></span>수주 추이 (억원)</div>
      <div class="chart-wrap"><canvas id="chartOrders"></canvas></div>
    </div>
    <div class="chart-card">
      <div class="chart-card-title"><span class="chart-dot" style="background:var(--accent2)"></span>매출 추이 (억원)</div>
      <div class="chart-wrap"><canvas id="chartSales"></canvas></div>
    </div>
    <div class="chart-card">
      <div class="chart-card-title"><span class="chart-dot" style="background:var(--accent3)"></span>손익 추이 (억원)</div>
      <div class="chart-wrap"><canvas id="chartProfit"></canvas></div>
    </div>
    <div class="chart-card">
      <div class="chart-card-title"><span class="chart-dot" style="background:#a855f7"></span>미수 추이 (억원)</div>
      <div class="chart-wrap"><canvas id="chartReceivable"></canvas></div>
    </div>
  </div>

  <!-- 전사 합산 추이 -->
  <div class="chart-full" id="combinedChartWrap">
    <div class="chart-section-title">전사 합산 주요 지표 10년 추이</div>
    <div class="chart-section-sub">수주 / 매출 / 손익 / 미수 (억원, 연간 누계)</div>
    <div class="chart-wrap chart-full"><canvas id="chartCombined"></canvas></div>
  </div>

</main>

<footer>
  ※ 본 대시보드는 현장정보DB · 수주DB월별 · 매출손익DB · 유동성미수DB · 건설사업계획DB 기반 데이터를 표시합니다. &nbsp;|&nbsp; 단위: 실적(억원), 계획비·진도율(%) &nbsp;|&nbsp; HYUNDAI E&C © 2025
</footer>

<script>
// ============================================================
// ★ 실제 DB 데이터 (현장정보DB / 수주DB월별 / 매출손익DB / 유동성미수DB / 건설사업계획DB)
// ============================================================
const DB = {"trend_years":[2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"trend":{"토목":{"orders":[20044.0,20182.0,13759.0,15481.0,33563.0,12891.0,29039.0,25021.0,22229.0,22829.0],"sales":[25083.0,23558.0,20835.0,22108.0,16595.0,13744.0,16615.0,19435.0,19299.0,19640.0],"profit":[-469.0,-322.0,-1455.0,-1660.0,-907.0,-2226.0,-317.0,74.0,96.0,512.0],"receivable":[-2524.3,-2650.4,-1661.2,-395.3,-3675.8,-853.7,-2803.9,-1594.8,-643.2,-229.4]},"건축":{"orders":[30602.0,8005.0,17057.0,20665.0,32310.0,22447.0,36423.0,31310.0,33205.0,58263.0],"sales":[22694.0,23353.0,19276.0,13004.0,16759.0,24234.0,21920.0,26202.0,32060.0,26729.0],"profit":[1682.0,1735.0,1459.0,100.0,967.8,1292.0,411.0,205.2,40.0,-1076.0],"receivable":[-1593.2,504.6,-585.3,-1724.1,72.0,-537.3,-713.6,-972.8,-1515.4,-2251.0]},"주택":{"orders":[42187.0,87952.0,41969.0,53081.0,75551.0,100026.0,101691.0,63654.0,97943.0,120811.0],"sales":[22961.0,29750.0,32291.0,41740.0,40514.0,43008.0,56750.0,83851.0,83885.0,68158.0],"profit":[2207.0,4154.0,4346.0,7098.0,4052.2,4584.0,4426.0,4013.0,3286.0,3742.0],"receivable":[395.6,970.0,70.2,-340.9,-946.0,-141.0,989.4,-4120.5,1404.4,-3640.2]},"플랜트":{"orders":[21455.4,8108.5,13014.2,39380.9,31166.8,23624.0,27343.2,32158.4,16895.2,42431.0],"sales":[31044.0,18398.0,22243.0,19784.0,17211.0,18318.0,17915.0,25741.0,34209.7,43545.0],"profit":[74.0,-2633.0,-2155.0,-1892.0,-1275.0,-1248.0,-813.0,279.0,-3676.2,-1416.0],"receivable":[-1514.9,-744.8,-1302.4,-466.9,-537.7,20.4,-1996.6,867.7,-1467.1,-1839.0]},"뉴에너지":{"orders":[2244.6,2907.5,5198.8,1129.1,3330.2,7752.0,2173.8,18468.6,11822.8,9236.0],"sales":[12607.0,7513.0,6394.0,4423.0,2869.0,2906.0,4067.0,5238.0,4355.3,7944.0],"profit":[1431.0,1054.0,639.0,-344.0,12.0,-25.0,-126.0,-922.0,-389.8,315.0],"receivable":[-285.9,-1297.1,-892.5,-300.7,-301.4,-174.5,180.0,-319.9,-82.8,346.3]},"기타":{"orders":[627.0,424.0,527.0,530.0,593.0,1852.0,1179.0,1045.0,1016.0,1581.0],"sales":[627.0,424.0,527.0,530.0,593.0,1852.0,1179.0,1045.0,1016.0,1581.0],"profit":[176.0,102.0,198.0,251.0,251.0,1146.0,743.0,1157.2,2655.0,973.0],"receivable":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]}},"performance":{"2025-01_cumulative":{"토목":{"orders":{"actual":161.0,"plan":1833.3},"sales":{"actual":1515.0,"plan":0.0},"profit":{"actual":39.0,"plan":0.0},"receivable":{"actual":762.1,"plan":11632.6}},"건축":{"orders":{"actual":20.0,"plan":2916.7},"sales":{"actual":2092.0,"plan":0.0},"profit":{"actual":94.0,"plan":0.0},"receivable":{"actual":674.9,"plan":7390.0}},"주택":{"orders":{"actual":17517.0,"plan":8300.0},"sales":{"actual":6175.0,"plan":0.0},"profit":{"actual":93.0,"plan":0.0},"receivable":{"actual":2063.8,"plan":36125.8}},"플랜트":{"orders":{"actual":-1338.0,"plan":2666.7},"sales":{"actual":2385.6,"plan":0.0},"profit":{"actual":-69.9,"plan":0.0},"receivable":{"actual":389.0,"plan":14901.0}},"뉴에너지":{"orders":{"actual":5125.0,"plan":2200.0},"sales":{"actual":374.4,"plan":0.0},"profit":{"actual":23.9,"plan":0.0},"receivable":{"actual":-400.8,"plan":3535.8}},"기타":{"orders":{"actual":100.0,"plan":0.0},"sales":{"actual":100.0,"plan":0.0},"profit":{"actual":85.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-01_monthly":{"토목":{"orders":{"actual":161.0,"plan":1833.3},"sales":{"actual":1515.0,"plan":0.0},"profit":{"actual":39.0,"plan":0.0},"receivable":{"actual":762.1,"plan":11632.6}},"건축":{"orders":{"actual":20.0,"plan":2916.7},"sales":{"actual":2092.0,"plan":0.0},"profit":{"actual":94.0,"plan":0.0},"receivable":{"actual":674.9,"plan":7390.0}},"주택":{"orders":{"actual":17517.0,"plan":8300.0},"sales":{"actual":6175.0,"plan":0.0},"profit":{"actual":93.0,"plan":0.0},"receivable":{"actual":2063.8,"plan":36125.8}},"플랜트":{"orders":{"actual":-1338.0,"plan":2666.7},"sales":{"actual":2385.6,"plan":0.0},"profit":{"actual":-69.9,"plan":0.0},"receivable":{"actual":389.0,"plan":14901.0}},"뉴에너지":{"orders":{"actual":5125.0,"plan":2200.0},"sales":{"actual":374.4,"plan":0.0},"profit":{"actual":23.9,"plan":0.0},"receivable":{"actual":-400.8,"plan":3535.8}},"기타":{"orders":{"actual":100.0,"plan":0.0},"sales":{"actual":100.0,"plan":0.0},"profit":{"actual":85.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-02_cumulative":{"토목":{"orders":{"actual":1336.0,"plan":3666.7},"sales":{"actual":3130.0,"plan":0.0},"profit":{"actual":-16.0,"plan":0.0},"receivable":{"actual":793.4,"plan":11217.7}},"건축":{"orders":{"actual":27997.0,"plan":9130.0},"sales":{"actual":4084.0,"plan":0.0},"profit":{"actual":14.0,"plan":0.0},"receivable":{"actual":309.0,"plan":7086.7}},"주택":{"orders":{"actual":30611.0,"plan":13200.0},"sales":{"actual":11630.0,"plan":0.0},"profit":{"actual":106.0,"plan":0.0},"receivable":{"actual":3005.2,"plan":36972.0}},"플랜트":{"orders":{"actual":-2008.0,"plan":5333.3},"sales":{"actual":6603.1,"plan":0.0},"profit":{"actual":195.8,"plan":0.0},"receivable":{"actual":974.3,"plan":16536.1}},"뉴에너지":{"orders":{"actual":5260.0,"plan":2200.0},"sales":{"actual":849.9,"plan":0.0},"profit":{"actual":55.2,"plan":0.0},"receivable":{"actual":-174.4,"plan":3615.4}},"기타":{"orders":{"actual":199.0,"plan":0.0},"sales":{"actual":199.0,"plan":0.0},"profit":{"actual":158.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-02_monthly":{"토목":{"orders":{"actual":1175.0,"plan":1833.3},"sales":{"actual":1615.0,"plan":0.0},"profit":{"actual":-55.0,"plan":0.0},"receivable":{"actual":31.3,"plan":-414.9}},"건축":{"orders":{"actual":27977.0,"plan":9130.0},"sales":{"actual":1992.0,"plan":0.0},"profit":{"actual":-80.0,"plan":0.0},"receivable":{"actual":-365.9,"plan":-303.3}},"주택":{"orders":{"actual":13094.0,"plan":4900.0},"sales":{"actual":5455.0,"plan":0.0},"profit":{"actual":13.0,"plan":0.0},"receivable":{"actual":941.4,"plan":846.2}},"플랜트":{"orders":{"actual":-670.0,"plan":2666.7},"sales":{"actual":4217.5,"plan":0.0},"profit":{"actual":265.8,"plan":0.0},"receivable":{"actual":585.2,"plan":1635.0}},"뉴에너지":{"orders":{"actual":135.0,"plan":2575.0},"sales":{"actual":475.5,"plan":0.0},"profit":{"actual":31.2,"plan":0.0},"receivable":{"actual":226.4,"plan":79.6}},"기타":{"orders":{"actual":99.0,"plan":0.0},"sales":{"actual":99.0,"plan":0.0},"profit":{"actual":73.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-03_cumulative":{"토목":{"orders":{"actual":2885.0,"plan":3700.0},"sales":{"actual":4454.0,"plan":0.0},"profit":{"actual":-44.0,"plan":0.0},"receivable":{"actual":1122.3,"plan":11089.5}},"건축":{"orders":{"actual":28147.0,"plan":15265.0},"sales":{"actual":6099.0,"plan":0.0},"profit":{"actual":-137.0,"plan":0.0},"receivable":{"actual":954.6,"plan":8039.7}},"주택":{"orders":{"actual":32613.0,"plan":27060.0},"sales":{"actual":17496.0,"plan":0.0},"profit":{"actual":676.0,"plan":0.0},"receivable":{"actual":4659.1,"plan":39349.2}},"플랜트":{"orders":{"actual":-872.0,"plan":8000.0},"sales":{"actual":10301.0,"plan":0.0},"profit":{"actual":129.0,"plan":0.0},"receivable":{"actual":430.6,"plan":16163.3}},"뉴에너지":{"orders":{"actual":5267.0,"plan":2200.0},"sales":{"actual":1086.0,"plan":0.0},"profit":{"actual":-44.0,"plan":0.0},"receivable":{"actual":-325.6,"plan":3569.1}},"기타":{"orders":{"actual":281.0,"plan":0.0},"sales":{"actual":281.0,"plan":0.0},"profit":{"actual":208.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-03_monthly":{"토목":{"orders":{"actual":1549.0,"plan":3700.0},"sales":{"actual":1324.0,"plan":0.0},"profit":{"actual":-28.0,"plan":0.0},"receivable":{"actual":328.9,"plan":-128.3}},"건축":{"orders":{"actual":150.0,"plan":6135.0},"sales":{"actual":2015.0,"plan":0.0},"profit":{"actual":-151.0,"plan":0.0},"receivable":{"actual":645.5,"plan":953.0}},"주택":{"orders":{"actual":2002.0,"plan":13860.0},"sales":{"actual":5866.0,"plan":0.0},"profit":{"actual":570.0,"plan":0.0},"receivable":{"actual":1653.9,"plan":2377.2}},"플랜트":{"orders":{"actual":1136.0,"plan":2666.7},"sales":{"actual":3697.9,"plan":0.0},"profit":{"actual":-66.8,"plan":0.0},"receivable":{"actual":-543.7,"plan":-372.8}},"뉴에너지":{"orders":{"actual":7.0,"plan":2575.0},"sales":{"actual":236.1,"plan":0.0},"profit":{"actual":-99.2,"plan":0.0},"receivable":{"actual":-151.2,"plan":-46.3}},"기타":{"orders":{"actual":82.0,"plan":0.0},"sales":{"actual":82.0,"plan":0.0},"profit":{"actual":50.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-04_cumulative":{"토목":{"orders":{"actual":2788.0,"plan":3700.0},"sales":{"actual":6144.0,"plan":0.0},"profit":{"actual":-75.0,"plan":0.0},"receivable":{"actual":1962.1,"plan":10653.9}},"건축":{"orders":{"actual":36488.0,"plan":16640.0},"sales":{"actual":8284.0,"plan":0.0},"profit":{"actual":-200.0,"plan":0.0},"receivable":{"actual":444.4,"plan":7637.2}},"주택":{"orders":{"actual":45171.0,"plan":27950.0},"sales":{"actual":23745.0,"plan":0.0},"profit":{"actual":923.0,"plan":0.0},"receivable":{"actual":6971.7,"plan":40564.2}},"플랜트":{"orders":{"actual":-823.0,"plan":10666.7},"sales":{"actual":13740.0,"plan":0.0},"profit":{"actual":251.0,"plan":0.0},"receivable":{"actual":-292.0,"plan":16122.7}},"뉴에너지":{"orders":{"actual":6495.0,"plan":2600.0},"sales":{"actual":1551.0,"plan":0.0},"profit":{"actual":-152.0,"plan":0.0},"receivable":{"actual":-60.8,"plan":3496.8}},"기타":{"orders":{"actual":401.0,"plan":0.0},"sales":{"actual":401.0,"plan":0.0},"profit":{"actual":305.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-04_monthly":{"토목":{"orders":{"actual":-97.0,"plan":1833.3},"sales":{"actual":1690.0,"plan":0.0},"profit":{"actual":-31.0,"plan":0.0},"receivable":{"actual":839.8,"plan":-435.6}},"건축":{"orders":{"actual":8341.0,"plan":1375.0},"sales":{"actual":2185.0,"plan":0.0},"profit":{"actual":-63.0,"plan":0.0},"receivable":{"actual":-510.1,"plan":-402.5}},"주택":{"orders":{"actual":12558.0,"plan":890.0},"sales":{"actual":6249.0,"plan":0.0},"profit":{"actual":247.0,"plan":0.0},"receivable":{"actual":2312.6,"plan":1215.1}},"플랜트":{"orders":{"actual":49.0,"plan":2666.7},"sales":{"actual":3439.0,"plan":0.0},"profit":{"actual":122.0,"plan":0.0},"receivable":{"actual":-722.6,"plan":-40.6}},"뉴에너지":{"orders":{"actual":1228.0,"plan":400.0},"sales":{"actual":465.0,"plan":0.0},"profit":{"actual":-108.0,"plan":0.0},"receivable":{"actual":264.8,"plan":-72.3}},"기타":{"orders":{"actual":120.0,"plan":0.0},"sales":{"actual":120.0,"plan":0.0},"profit":{"actual":97.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-05_cumulative":{"토목":{"orders":{"actual":2929.0,"plan":3700.0},"sales":{"actual":7524.0,"plan":0.0},"profit":{"actual":10.0,"plan":0.0},"receivable":{"actual":1535.8,"plan":9988.2}},"건축":{"orders":{"actual":37699.0,"plan":23770.0},"sales":{"actual":10559.0,"plan":0.0},"profit":{"actual":-284.0,"plan":0.0},"receivable":{"actual":1285.4,"plan":8056.6}},"주택":{"orders":{"actual":60617.0,"plan":36750.0},"sales":{"actual":29295.0,"plan":0.0},"profit":{"actual":1015.0,"plan":0.0},"receivable":{"actual":8774.5,"plan":41437.7}},"플랜트":{"orders":{"actual":-716.0,"plan":13333.3},"sales":{"actual":17985.0,"plan":0.0},"profit":{"actual":349.0,"plan":0.0},"receivable":{"actual":90.3,"plan":16980.2}},"뉴에너지":{"orders":{"actual":6495.0,"plan":3700.0},"sales":{"actual":2079.0,"plan":0.0},"profit":{"actual":-105.0,"plan":0.0},"receivable":{"actual":-8.7,"plan":3733.1}},"기타":{"orders":{"actual":500.0,"plan":0.0},"sales":{"actual":500.0,"plan":0.0},"profit":{"actual":374.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-05_monthly":{"토목":{"orders":{"actual":141.0,"plan":1833.3},"sales":{"actual":1380.0,"plan":0.0},"profit":{"actual":85.0,"plan":0.0},"receivable":{"actual":-426.3,"plan":-665.7}},"건축":{"orders":{"actual":1211.0,"plan":7130.0},"sales":{"actual":2275.0,"plan":0.0},"profit":{"actual":-84.0,"plan":0.0},"receivable":{"actual":840.9,"plan":419.4}},"주택":{"orders":{"actual":15446.0,"plan":8800.0},"sales":{"actual":5550.0,"plan":0.0},"profit":{"actual":92.0,"plan":0.0},"receivable":{"actual":1802.8,"plan":873.5}},"플랜트":{"orders":{"actual":107.0,"plan":2666.7},"sales":{"actual":4245.0,"plan":0.0},"profit":{"actual":98.0,"plan":0.0},"receivable":{"actual":382.3,"plan":857.6}},"뉴에너지":{"orders":{"actual":0.0,"plan":1100.0},"sales":{"actual":528.0,"plan":0.0},"profit":{"actual":47.0,"plan":0.0},"receivable":{"actual":52.2,"plan":236.3}},"기타":{"orders":{"actual":99.0,"plan":0.0},"sales":{"actual":99.0,"plan":0.0},"profit":{"actual":69.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-06_cumulative":{"토목":{"orders":{"actual":6503.0,"plan":4500.0},"sales":{"actual":8977.0,"plan":0.0},"profit":{"actual":-68.0,"plan":0.0},"receivable":{"actual":1271.3,"plan":9723.8}},"건축":{"orders":{"actual":38777.0,"plan":23770.0},"sales":{"actual":12576.0,"plan":0.0},"profit":{"actual":-458.0,"plan":0.0},"receivable":{"actual":696.8,"plan":7725.6}},"주택":{"orders":{"actual":81225.0,"plan":39020.0},"sales":{"actual":35576.0,"plan":0.0},"profit":{"actual":1971.0,"plan":0.0},"receivable":{"actual":8074.5,"plan":40628.5}},"플랜트":{"orders":{"actual":-763.0,"plan":13500.0},"sales":{"actual":21648.0,"plan":0.0},"profit":{"actual":-142.0,"plan":0.0},"receivable":{"actual":-1449.3,"plan":16358.4}},"뉴에너지":{"orders":{"actual":8698.0,"plan":3700.0},"sales":{"actual":2594.0,"plan":0.0},"profit":{"actual":-110.0,"plan":0.0},"receivable":{"actual":-97.8,"plan":3661.0}},"기타":{"orders":{"actual":647.0,"plan":0.0},"sales":{"actual":647.0,"plan":0.0},"profit":{"actual":462.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-06_monthly":{"토목":{"orders":{"actual":3574.0,"plan":800.0},"sales":{"actual":1453.0,"plan":0.0},"profit":{"actual":-78.0,"plan":0.0},"receivable":{"actual":-264.5,"plan":-264.4}},"건축":{"orders":{"actual":1078.0,"plan":2916.7},"sales":{"actual":2017.0,"plan":0.0},"profit":{"actual":-174.0,"plan":0.0},"receivable":{"actual":-588.6,"plan":-331.0}},"주택":{"orders":{"actual":20608.0,"plan":2270.0},"sales":{"actual":6281.0,"plan":0.0},"profit":{"actual":956.0,"plan":0.0},"receivable":{"actual":-699.9,"plan":-809.2}},"플랜트":{"orders":{"actual":-47.0,"plan":13500.0},"sales":{"actual":3663.0,"plan":0.0},"profit":{"actual":-491.0,"plan":0.0},"receivable":{"actual":-1539.6,"plan":-621.8}},"뉴에너지":{"orders":{"actual":2203.0,"plan":2575.0},"sales":{"actual":515.0,"plan":0.0},"profit":{"actual":-5.0,"plan":0.0},"receivable":{"actual":-89.1,"plan":-72.2}},"기타":{"orders":{"actual":147.0,"plan":0.0},"sales":{"actual":147.0,"plan":0.0},"profit":{"actual":88.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-07_cumulative":{"토목":{"orders":{"actual":6576.0,"plan":4500.0},"sales":{"actual":10708.0,"plan":0.0},"profit":{"actual":-5.0,"plan":0.0},"receivable":{"actual":1714.5,"plan":9906.0}},"건축":{"orders":{"actual":43790.0,"plan":27710.0},"sales":{"actual":15779.0,"plan":0.0},"profit":{"actual":-544.0,"plan":0.0},"receivable":{"actual":1740.4,"plan":8645.1}},"주택":{"orders":{"actual":84277.0,"plan":42120.0},"sales":{"actual":40988.0,"plan":0.0},"profit":{"actual":2035.0,"plan":0.0},"receivable":{"actual":10737.9,"plan":40743.9}},"플랜트":{"orders":{"actual":-644.0,"plan":19500.0},"sales":{"actual":25925.0,"plan":0.0},"profit":{"actual":154.0,"plan":0.0},"receivable":{"actual":-822.5,"plan":16107.0}},"뉴에너지":{"orders":{"actual":8698.0,"plan":3700.0},"sales":{"actual":3006.0,"plan":0.0},"profit":{"actual":-136.0,"plan":0.0},"receivable":{"actual":31.4,"plan":3870.7}},"기타":{"orders":{"actual":722.0,"plan":0.0},"sales":{"actual":722.0,"plan":0.0},"profit":{"actual":506.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-07_monthly":{"토목":{"orders":{"actual":73.0,"plan":1833.3},"sales":{"actual":1731.0,"plan":0.0},"profit":{"actual":63.0,"plan":0.0},"receivable":{"actual":443.2,"plan":182.2}},"건축":{"orders":{"actual":5013.0,"plan":3940.0},"sales":{"actual":3203.0,"plan":0.0},"profit":{"actual":-86.0,"plan":0.0},"receivable":{"actual":1043.6,"plan":919.4}},"주택":{"orders":{"actual":3052.0,"plan":3100.0},"sales":{"actual":5412.0,"plan":0.0},"profit":{"actual":64.0,"plan":0.0},"receivable":{"actual":2663.4,"plan":115.4}},"플랜트":{"orders":{"actual":119.0,"plan":6000.0},"sales":{"actual":4277.0,"plan":0.0},"profit":{"actual":296.0,"plan":0.0},"receivable":{"actual":626.8,"plan":-251.4}},"뉴에너지":{"orders":{"actual":0.0,"plan":2575.0},"sales":{"actual":412.0,"plan":0.0},"profit":{"actual":-26.0,"plan":0.0},"receivable":{"actual":129.2,"plan":209.8}},"기타":{"orders":{"actual":75.0,"plan":0.0},"sales":{"actual":75.0,"plan":0.0},"profit":{"actual":44.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-08_cumulative":{"토목":{"orders":{"actual":10078.0,"plan":10280.0},"sales":{"actual":12337.0,"plan":0.0},"profit":{"actual":-12.0,"plan":0.0},"receivable":{"actual":2450.7,"plan":9842.8}},"건축":{"orders":{"actual":43969.0,"plan":28152.0},"sales":{"actual":19016.0,"plan":0.0},"profit":{"actual":-392.0,"plan":0.0},"receivable":{"actual":1331.9,"plan":8042.0}},"주택":{"orders":{"actual":91008.0,"plan":47360.0},"sales":{"actual":46397.0,"plan":0.0},"profit":{"actual":2263.0,"plan":0.0},"receivable":{"actual":13205.2,"plan":42546.8}},"플랜트":{"orders":{"actual":-163.0,"plan":22200.0},"sales":{"actual":29414.0,"plan":0.0},"profit":{"actual":-95.0,"plan":0.0},"receivable":{"actual":207.1,"plan":15573.1}},"뉴에너지":{"orders":{"actual":8702.0,"plan":3700.0},"sales":{"actual":3893.0,"plan":0.0},"profit":{"actual":-57.0,"plan":0.0},"receivable":{"actual":656.6,"plan":3893.1}},"기타":{"orders":{"actual":780.0,"plan":0.0},"sales":{"actual":780.0,"plan":0.0},"profit":{"actual":555.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-08_monthly":{"토목":{"orders":{"actual":3502.0,"plan":5780.0},"sales":{"actual":1629.0,"plan":0.0},"profit":{"actual":-7.0,"plan":0.0},"receivable":{"actual":736.2,"plan":-63.2}},"건축":{"orders":{"actual":179.0,"plan":442.0},"sales":{"actual":3237.0,"plan":0.0},"profit":{"actual":152.0,"plan":0.0},"receivable":{"actual":-408.5,"plan":-603.0}},"주택":{"orders":{"actual":6731.0,"plan":5240.0},"sales":{"actual":5409.0,"plan":0.0},"profit":{"actual":228.0,"plan":0.0},"receivable":{"actual":2467.3,"plan":1802.9}},"플랜트":{"orders":{"actual":481.0,"plan":2700.0},"sales":{"actual":3489.0,"plan":0.0},"profit":{"actual":-249.0,"plan":0.0},"receivable":{"actual":1029.5,"plan":-533.9}},"뉴에너지":{"orders":{"actual":4.0,"plan":2575.0},"sales":{"actual":887.0,"plan":0.0},"profit":{"actual":79.0,"plan":0.0},"receivable":{"actual":625.2,"plan":22.4}},"기타":{"orders":{"actual":58.0,"plan":0.0},"sales":{"actual":58.0,"plan":0.0},"profit":{"actual":49.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-09_cumulative":{"토목":{"orders":{"actual":10244.0,"plan":10600.0},"sales":{"actual":14211.0,"plan":0.0},"profit":{"actual":72.0,"plan":0.0},"receivable":{"actual":3215.8,"plan":9392.3}},"건축":{"orders":{"actual":48746.0,"plan":28152.0},"sales":{"actual":21282.0,"plan":0.0},"profit":{"actual":-438.0,"plan":0.0},"receivable":{"actual":2134.3,"plan":9103.7}},"주택":{"orders":{"actual":95166.0,"plan":49090.0},"sales":{"actual":52722.0,"plan":0.0},"profit":{"actual":2853.0,"plan":0.0},"receivable":{"actual":12284.2,"plan":40965.5}},"플랜트":{"orders":{"actual":41663.0,"plan":22200.0},"sales":{"actual":32417.0,"plan":0.0},"profit":{"actual":-688.0,"plan":0.0},"receivable":{"actual":-1408.1,"plan":13539.0}},"뉴에너지":{"orders":{"actual":9133.0,"plan":4000.0},"sales":{"actual":4532.0,"plan":0.0},"profit":{"actual":-15.0,"plan":0.0},"receivable":{"actual":455.0,"plan":3674.4}},"기타":{"orders":{"actual":838.0,"plan":0.0},"sales":{"actual":838.0,"plan":0.0},"profit":{"actual":581.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-09_monthly":{"토목":{"orders":{"actual":166.0,"plan":320.0},"sales":{"actual":1874.0,"plan":0.0},"profit":{"actual":84.0,"plan":0.0},"receivable":{"actual":765.1,"plan":-450.5}},"건축":{"orders":{"actual":4777.0,"plan":2916.7},"sales":{"actual":2266.0,"plan":0.0},"profit":{"actual":-46.0,"plan":0.0},"receivable":{"actual":802.5,"plan":1061.7}},"주택":{"orders":{"actual":4158.0,"plan":1730.0},"sales":{"actual":6325.0,"plan":0.0},"profit":{"actual":590.0,"plan":0.0},"receivable":{"actual":-921.0,"plan":-1581.3}},"플랜트":{"orders":{"actual":41826.0,"plan":2666.7},"sales":{"actual":3003.0,"plan":0.0},"profit":{"actual":-593.0,"plan":0.0},"receivable":{"actual":-1615.2,"plan":-2034.2}},"뉴에너지":{"orders":{"actual":431.0,"plan":300.0},"sales":{"actual":639.0,"plan":0.0},"profit":{"actual":42.0,"plan":0.0},"receivable":{"actual":-201.6,"plan":-218.7}},"기타":{"orders":{"actual":58.0,"plan":0.0},"sales":{"actual":58.0,"plan":0.0},"profit":{"actual":26.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-10_cumulative":{"토목":{"orders":{"actual":10327.0,"plan":15498.0},"sales":{"actual":15972.0,"plan":0.0},"profit":{"actual":30.0,"plan":0.0},"receivable":{"actual":3790.0,"plan":9520.7}},"건축":{"orders":{"actual":53394.0,"plan":29732.0},"sales":{"actual":23445.0,"plan":0.0},"profit":{"actual":-400.0,"plan":0.0},"receivable":{"actual":2034.6,"plan":7757.2}},"주택":{"orders":{"actual":96649.0,"plan":52550.0},"sales":{"actual":57312.0,"plan":0.0},"profit":{"actual":2992.0,"plan":0.0},"receivable":{"actual":9094.0,"plan":39886.9}},"플랜트":{"orders":{"actual":42191.0,"plan":22200.0},"sales":{"actual":36090.0,"plan":0.0},"profit":{"actual":-784.0,"plan":0.0},"receivable":{"actual":-2793.1,"plan":12541.6}},"뉴에너지":{"orders":{"actual":9239.0,"plan":5300.0},"sales":{"actual":5618.0,"plan":0.0},"profit":{"actual":144.0,"plan":0.0},"receivable":{"actual":836.8,"plan":3770.0}},"기타":{"orders":{"actual":915.0,"plan":0.0},"sales":{"actual":915.0,"plan":0.0},"profit":{"actual":611.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-10_monthly":{"토목":{"orders":{"actual":83.0,"plan":4898.0},"sales":{"actual":1761.0,"plan":0.0},"profit":{"actual":-42.0,"plan":0.0},"receivable":{"actual":574.2,"plan":128.5}},"건축":{"orders":{"actual":4648.0,"plan":1580.0},"sales":{"actual":2163.0,"plan":0.0},"profit":{"actual":38.0,"plan":0.0},"receivable":{"actual":-99.7,"plan":-1346.5}},"주택":{"orders":{"actual":1483.0,"plan":3460.0},"sales":{"actual":4590.0,"plan":0.0},"profit":{"actual":139.0,"plan":0.0},"receivable":{"actual":-3190.2,"plan":-1078.6}},"플랜트":{"orders":{"actual":528.0,"plan":2666.7},"sales":{"actual":3673.0,"plan":0.0},"profit":{"actual":-96.0,"plan":0.0},"receivable":{"actual":-1385.0,"plan":-997.4}},"뉴에너지":{"orders":{"actual":106.0,"plan":1300.0},"sales":{"actual":1086.0,"plan":0.0},"profit":{"actual":159.0,"plan":0.0},"receivable":{"actual":381.8,"plan":95.6}},"기타":{"orders":{"actual":77.0,"plan":0.0},"sales":{"actual":77.0,"plan":0.0},"profit":{"actual":30.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-11_cumulative":{"토목":{"orders":{"actual":13351.0,"plan":16290.0},"sales":{"actual":17721.0,"plan":0.0},"profit":{"actual":5.0,"plan":0.0},"receivable":{"actual":4824.1,"plan":9882.9}},"건축":{"orders":{"actual":57869.0,"plan":34732.0},"sales":{"actual":25206.0,"plan":0.0},"profit":{"actual":-375.0,"plan":0.0},"receivable":{"actual":2223.0,"plan":8044.4}},"주택":{"orders":{"actual":109551.0,"plan":55000.0},"sales":{"actual":61935.0,"plan":0.0},"profit":{"actual":3260.0,"plan":0.0},"receivable":{"actual":9674.7,"plan":37452.4}},"플랜트":{"orders":{"actual":42272.0,"plan":25000.0},"sales":{"actual":38999.0,"plan":0.0},"profit":{"actual":-1182.0,"plan":0.0},"receivable":{"actual":-1828.9,"plan":11910.3}},"뉴에너지":{"orders":{"actual":9234.0,"plan":5300.0},"sales":{"actual":6719.0,"plan":0.0},"profit":{"actual":293.0,"plan":0.0},"receivable":{"actual":1166.4,"plan":4243.9}},"기타":{"orders":{"actual":1134.0,"plan":0.0},"sales":{"actual":1134.0,"plan":0.0},"profit":{"actual":797.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-11_monthly":{"토목":{"orders":{"actual":3024.0,"plan":792.0},"sales":{"actual":1749.0,"plan":0.0},"profit":{"actual":-25.0,"plan":0.0},"receivable":{"actual":1034.1,"plan":362.2}},"건축":{"orders":{"actual":4475.0,"plan":5000.0},"sales":{"actual":1761.0,"plan":0.0},"profit":{"actual":25.0,"plan":0.0},"receivable":{"actual":188.4,"plan":287.1}},"주택":{"orders":{"actual":12902.0,"plan":2450.0},"sales":{"actual":4623.0,"plan":0.0},"profit":{"actual":268.0,"plan":0.0},"receivable":{"actual":580.7,"plan":-2434.5}},"플랜트":{"orders":{"actual":81.0,"plan":2800.0},"sales":{"actual":2909.0,"plan":0.0},"profit":{"actual":-398.0,"plan":0.0},"receivable":{"actual":964.2,"plan":-631.3}},"뉴에너지":{"orders":{"actual":-5.0,"plan":2575.0},"sales":{"actual":1101.0,"plan":0.0},"profit":{"actual":149.0,"plan":0.0},"receivable":{"actual":329.6,"plan":473.9}},"기타":{"orders":{"actual":219.0,"plan":0.0},"sales":{"actual":219.0,"plan":0.0},"profit":{"actual":186.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-12_cumulative":{"토목":{"orders":{"actual":22829.0,"plan":22000.0},"sales":{"actual":19640.0,"plan":0.0},"profit":{"actual":512.0,"plan":0.0},"receivable":{"actual":4594.7,"plan":8490.0}},"건축":{"orders":{"actual":58263.0,"plan":35000.0},"sales":{"actual":26729.0,"plan":0.0},"profit":{"actual":-1076.0,"plan":0.0},"receivable":{"actual":-28.0,"plan":5500.0}},"주택":{"orders":{"actual":120811.0,"plan":55000.0},"sales":{"actual":68158.0,"plan":0.0},"profit":{"actual":3742.0,"plan":0.0},"receivable":{"actual":6034.5,"plan":28900.0}},"플랜트":{"orders":{"actual":42431.0,"plan":32000.0},"sales":{"actual":43545.0,"plan":0.0},"profit":{"actual":-1416.0,"plan":0.0},"receivable":{"actual":-3667.9,"plan":10850.0}},"뉴에너지":{"orders":{"actual":9236.0,"plan":30900.0},"sales":{"actual":7944.0,"plan":0.0},"profit":{"actual":315.0,"plan":0.0},"receivable":{"actual":1512.7,"plan":3560.0}},"기타":{"orders":{"actual":1581.0,"plan":0.0},"sales":{"actual":1581.0,"plan":0.0},"profit":{"actual":973.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2025-12_monthly":{"토목":{"orders":{"actual":9478.0,"plan":5710.0},"sales":{"actual":1919.0,"plan":0.0},"profit":{"actual":507.0,"plan":0.0},"receivable":{"actual":-229.4,"plan":-1392.9}},"건축":{"orders":{"actual":394.0,"plan":268.0},"sales":{"actual":1523.0,"plan":0.0},"profit":{"actual":-701.0,"plan":0.0},"receivable":{"actual":-2251.0,"plan":-2544.4}},"주택":{"orders":{"actual":11260.0,"plan":4583.3},"sales":{"actual":6223.0,"plan":0.0},"profit":{"actual":482.0,"plan":0.0},"receivable":{"actual":-3640.2,"plan":-8552.4}},"플랜트":{"orders":{"actual":159.0,"plan":7000.0},"sales":{"actual":4546.0,"plan":0.0},"profit":{"actual":-234.0,"plan":0.0},"receivable":{"actual":-1839.0,"plan":-1060.3}},"뉴에너지":{"orders":{"actual":2.0,"plan":25600.0},"sales":{"actual":1225.0,"plan":0.0},"profit":{"actual":22.0,"plan":0.0},"receivable":{"actual":346.3,"plan":-683.9}},"기타":{"orders":{"actual":447.0,"plan":0.0},"sales":{"actual":447.0,"plan":0.0},"profit":{"actual":176.0,"plan":0.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-01_cumulative":{"토목":{"orders":{"actual":201.0,"plan":3126.2},"sales":{"actual":1595.0,"plan":1613.0},"profit":{"actual":92.0,"plan":21.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":5077.8},"sales":{"actual":1509.0,"plan":1463.0},"profit":{"actual":-301.0,"plan":-238.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":5795.0},"sales":{"actual":4745.0,"plan":4439.0},"profit":{"actual":253.0,"plan":285.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":2666.7},"sales":{"actual":2970.0,"plan":3217.0},"profit":{"actual":172.0,"plan":160.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":2000.0},"sales":{"actual":714.0,"plan":787.0},"profit":{"actual":54.0,"plan":16.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":64.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-01_monthly":{"토목":{"orders":{"actual":201.0,"plan":3126.2},"sales":{"actual":1595.0,"plan":1613.0},"profit":{"actual":92.0,"plan":21.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":5077.8},"sales":{"actual":1509.0,"plan":1463.0},"profit":{"actual":-301.0,"plan":-238.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":5795.0},"sales":{"actual":4745.0,"plan":4439.0},"profit":{"actual":253.0,"plan":285.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":2666.7},"sales":{"actual":2970.0,"plan":3217.0},"profit":{"actual":172.0,"plan":160.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":2000.0},"sales":{"actual":714.0,"plan":787.0},"profit":{"actual":54.0,"plan":16.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":64.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-02_cumulative":{"토목":{"orders":{"actual":201.0,"plan":6252.3},"sales":{"actual":1595.0,"plan":3117.0},"profit":{"actual":92.0,"plan":54.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":4159.0},"sales":{"actual":1509.0,"plan":3186.0},"profit":{"actual":-301.0,"plan":-414.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":7325.0},"sales":{"actual":4745.0,"plan":8977.0},"profit":{"actual":253.0,"plan":391.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":5333.3},"sales":{"actual":2970.0,"plan":7068.0},"profit":{"actual":172.0,"plan":381.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":4000.0},"sales":{"actual":714.0,"plan":1644.0},"profit":{"actual":54.0,"plan":93.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":115.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-02_monthly":{"토목":{"orders":{"actual":0.0,"plan":3126.2},"sales":{"actual":0.0,"plan":1504.0},"profit":{"actual":0.0,"plan":33.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":4159.0},"sales":{"actual":0.0,"plan":1723.0},"profit":{"actual":0.0,"plan":-176.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":1530.0},"sales":{"actual":0.0,"plan":4538.0},"profit":{"actual":0.0,"plan":106.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":2666.7},"sales":{"actual":0.0,"plan":3851.0},"profit":{"actual":0.0,"plan":221.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":2000.0},"sales":{"actual":0.0,"plan":857.0},"profit":{"actual":0.0,"plan":77.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":51.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-03_cumulative":{"토목":{"orders":{"actual":201.0,"plan":7468.0},"sales":{"actual":1595.0,"plan":4656.0},"profit":{"actual":92.0,"plan":73.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":11865.0},"sales":{"actual":1509.0,"plan":5334.0},"profit":{"actual":-301.0,"plan":-436.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":10045.0},"sales":{"actual":4745.0,"plan":13588.0},"profit":{"actual":253.0,"plan":402.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":18475.0},"sales":{"actual":2970.0,"plan":10764.0},"profit":{"actual":172.0,"plan":554.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":6000.0},"sales":{"actual":714.0,"plan":2648.0},"profit":{"actual":54.0,"plan":167.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":164.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-03_monthly":{"토목":{"orders":{"actual":0.0,"plan":7468.0},"sales":{"actual":0.0,"plan":1539.0},"profit":{"actual":0.0,"plan":19.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":7706.0},"sales":{"actual":0.0,"plan":2148.0},"profit":{"actual":0.0,"plan":-22.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":2720.0},"sales":{"actual":0.0,"plan":4611.0},"profit":{"actual":0.0,"plan":11.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":18475.0},"sales":{"actual":0.0,"plan":3696.0},"profit":{"actual":0.0,"plan":173.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":2000.0},"sales":{"actual":0.0,"plan":1004.0},"profit":{"actual":0.0,"plan":74.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":49.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-04_cumulative":{"토목":{"orders":{"actual":201.0,"plan":8558.0},"sales":{"actual":1595.0,"plan":6820.0},"profit":{"actual":92.0,"plan":324.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":13665.0},"sales":{"actual":1509.0,"plan":8020.0},"profit":{"actual":-301.0,"plan":-264.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":10045.0},"sales":{"actual":4745.0,"plan":18808.0},"profit":{"actual":253.0,"plan":651.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":18475.0},"sales":{"actual":2970.0,"plan":13938.0},"profit":{"actual":172.0,"plan":11.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":8000.0},"sales":{"actual":714.0,"plan":3558.0},"profit":{"actual":54.0,"plan":284.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":232.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-04_monthly":{"토목":{"orders":{"actual":0.0,"plan":1090.0},"sales":{"actual":0.0,"plan":2164.0},"profit":{"actual":0.0,"plan":251.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":1800.0},"sales":{"actual":0.0,"plan":2686.0},"profit":{"actual":0.0,"plan":172.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":4166.7},"sales":{"actual":0.0,"plan":5220.0},"profit":{"actual":0.0,"plan":249.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":2666.7},"sales":{"actual":0.0,"plan":3174.0},"profit":{"actual":0.0,"plan":-543.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":2000.0},"sales":{"actual":0.0,"plan":910.0},"profit":{"actual":0.0,"plan":117.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":68.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-05_cumulative":{"토목":{"orders":{"actual":201.0,"plan":8558.0},"sales":{"actual":1595.0,"plan":8498.0},"profit":{"actual":92.0,"plan":412.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":41075.0},"sales":{"actual":1509.0,"plan":10312.0},"profit":{"actual":-301.0,"plan":-204.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":13530.0},"sales":{"actual":4745.0,"plan":23431.0},"profit":{"actual":253.0,"plan":857.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":18475.0},"sales":{"actual":2970.0,"plan":17009.0},"profit":{"actual":172.0,"plan":-173.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":10000.0},"sales":{"actual":714.0,"plan":4743.0},"profit":{"actual":54.0,"plan":396.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":280.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-05_monthly":{"토목":{"orders":{"actual":0.0,"plan":3126.2},"sales":{"actual":0.0,"plan":1678.0},"profit":{"actual":0.0,"plan":88.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":27410.0},"sales":{"actual":0.0,"plan":2292.0},"profit":{"actual":0.0,"plan":60.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":3485.0},"sales":{"actual":0.0,"plan":4623.0},"profit":{"actual":0.0,"plan":206.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":2666.7},"sales":{"actual":0.0,"plan":3071.0},"profit":{"actual":0.0,"plan":-184.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":2000.0},"sales":{"actual":0.0,"plan":1185.0},"profit":{"actual":0.0,"plan":112.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":48.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-06_cumulative":{"토목":{"orders":{"actual":201.0,"plan":17006.0},"sales":{"actual":1595.0,"plan":10186.0},"profit":{"actual":92.0,"plan":-18.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":51142.0},"sales":{"actual":1509.0,"plan":12575.0},"profit":{"actual":-301.0,"plan":-97.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":13530.0},"sales":{"actual":4745.0,"plan":27952.0},"profit":{"actual":253.0,"plan":1360.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":18475.0},"sales":{"actual":2970.0,"plan":20156.0},"profit":{"actual":172.0,"plan":-364.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":16000.0},"sales":{"actual":714.0,"plan":5863.0},"profit":{"actual":54.0,"plan":597.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":414.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-06_monthly":{"토목":{"orders":{"actual":0.0,"plan":8448.0},"sales":{"actual":0.0,"plan":1688.0},"profit":{"actual":0.0,"plan":-430.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":10067.0},"sales":{"actual":0.0,"plan":2263.0},"profit":{"actual":0.0,"plan":107.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":4166.7},"sales":{"actual":0.0,"plan":4521.0},"profit":{"actual":0.0,"plan":503.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":2666.7},"sales":{"actual":0.0,"plan":3147.0},"profit":{"actual":0.0,"plan":-191.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":16000.0},"sales":{"actual":0.0,"plan":1120.0},"profit":{"actual":0.0,"plan":201.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":134.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-07_cumulative":{"토목":{"orders":{"actual":201.0,"plan":17006.0},"sales":{"actual":1595.0,"plan":12207.0},"profit":{"actual":92.0,"plan":82.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":53989.0},"sales":{"actual":1509.0,"plan":14536.0},"profit":{"actual":-301.0,"plan":-40.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":17030.0},"sales":{"actual":4745.0,"plan":33436.0},"profit":{"actual":253.0,"plan":1664.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":32000.0},"sales":{"actual":2970.0,"plan":23023.0},"profit":{"actual":172.0,"plan":-715.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":16000.0},"sales":{"actual":714.0,"plan":7449.0},"profit":{"actual":54.0,"plan":748.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":480.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-07_monthly":{"토목":{"orders":{"actual":0.0,"plan":3126.2},"sales":{"actual":0.0,"plan":2021.0},"profit":{"actual":0.0,"plan":100.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":2847.0},"sales":{"actual":0.0,"plan":1961.0},"profit":{"actual":0.0,"plan":57.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":3500.0},"sales":{"actual":0.0,"plan":5484.0},"profit":{"actual":0.0,"plan":304.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":13525.0},"sales":{"actual":0.0,"plan":2867.0},"profit":{"actual":0.0,"plan":-351.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":2000.0},"sales":{"actual":0.0,"plan":1586.0},"profit":{"actual":0.0,"plan":151.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":66.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-08_cumulative":{"토목":{"orders":{"actual":201.0,"plan":19006.0},"sales":{"actual":1595.0,"plan":14247.0},"profit":{"actual":92.0,"plan":182.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":54699.0},"sales":{"actual":1509.0,"plan":16404.0},"profit":{"actual":-301.0,"plan":13.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":20630.0},"sales":{"actual":4745.0,"plan":39656.0},"profit":{"actual":253.0,"plan":2373.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":32000.0},"sales":{"actual":2970.0,"plan":25326.0},"profit":{"actual":172.0,"plan":-1512.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":16000.0},"sales":{"actual":714.0,"plan":9195.0},"profit":{"actual":54.0,"plan":962.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":537.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-08_monthly":{"토목":{"orders":{"actual":0.0,"plan":2000.0},"sales":{"actual":0.0,"plan":2040.0},"profit":{"actual":0.0,"plan":100.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":710.0},"sales":{"actual":0.0,"plan":1868.0},"profit":{"actual":0.0,"plan":53.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":3600.0},"sales":{"actual":0.0,"plan":6220.0},"profit":{"actual":0.0,"plan":709.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":2666.7},"sales":{"actual":0.0,"plan":2303.0},"profit":{"actual":0.0,"plan":-797.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":2000.0},"sales":{"actual":0.0,"plan":1746.0},"profit":{"actual":0.0,"plan":214.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":57.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-09_cumulative":{"토목":{"orders":{"actual":201.0,"plan":20143.0},"sales":{"actual":1595.0,"plan":16347.0},"profit":{"actual":92.0,"plan":362.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":55711.0},"sales":{"actual":1509.0,"plan":18159.0},"profit":{"actual":-301.0,"plan":173.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":23420.0},"sales":{"actual":4745.0,"plan":44406.0},"profit":{"actual":253.0,"plan":2409.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":32000.0},"sales":{"actual":2970.0,"plan":27822.0},"profit":{"actual":172.0,"plan":-1817.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":18600.0},"sales":{"actual":714.0,"plan":10966.0},"profit":{"actual":54.0,"plan":1186.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":588.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-09_monthly":{"토목":{"orders":{"actual":0.0,"plan":1137.0},"sales":{"actual":0.0,"plan":2100.0},"profit":{"actual":0.0,"plan":180.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":1012.0},"sales":{"actual":0.0,"plan":1755.0},"profit":{"actual":0.0,"plan":160.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":2790.0},"sales":{"actual":0.0,"plan":4750.0},"profit":{"actual":0.0,"plan":36.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":2666.7},"sales":{"actual":0.0,"plan":2496.0},"profit":{"actual":0.0,"plan":-305.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":2600.0},"sales":{"actual":0.0,"plan":1771.0},"profit":{"actual":0.0,"plan":224.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":51.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-10_cumulative":{"토목":{"orders":{"actual":201.0,"plan":31866.0},"sales":{"actual":1595.0,"plan":18545.0},"profit":{"actual":92.0,"plan":495.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":57731.0},"sales":{"actual":1509.0,"plan":20083.0},"profit":{"actual":-301.0,"plan":79.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":29920.0},"sales":{"actual":4745.0,"plan":49065.0},"profit":{"actual":253.0,"plan":2454.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":32000.0},"sales":{"actual":2970.0,"plan":30891.0},"profit":{"actual":172.0,"plan":-1871.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":18600.0},"sales":{"actual":714.0,"plan":13183.0},"profit":{"actual":54.0,"plan":1471.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":649.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-10_monthly":{"토목":{"orders":{"actual":0.0,"plan":11723.0},"sales":{"actual":0.0,"plan":2198.0},"profit":{"actual":0.0,"plan":133.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":2020.0},"sales":{"actual":0.0,"plan":1924.0},"profit":{"actual":0.0,"plan":-94.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":6500.0},"sales":{"actual":0.0,"plan":4659.0},"profit":{"actual":0.0,"plan":45.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":2666.7},"sales":{"actual":0.0,"plan":3069.0},"profit":{"actual":0.0,"plan":-54.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":2000.0},"sales":{"actual":0.0,"plan":2217.0},"profit":{"actual":0.0,"plan":285.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":61.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-11_cumulative":{"토목":{"orders":{"actual":201.0,"plan":34565.0},"sales":{"actual":1595.0,"plan":20830.0},"profit":{"actual":92.0,"plan":628.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":58751.0},"sales":{"actual":1509.0,"plan":21357.0},"profit":{"actual":-301.0,"plan":-411.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":31520.0},"sales":{"actual":4745.0,"plan":53532.0},"profit":{"actual":253.0,"plan":2705.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":32000.0},"sales":{"actual":2970.0,"plan":34587.0},"profit":{"actual":172.0,"plan":-1729.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":18600.0},"sales":{"actual":714.0,"plan":15459.0},"profit":{"actual":54.0,"plan":1753.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":715.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-11_monthly":{"토목":{"orders":{"actual":0.0,"plan":2699.0},"sales":{"actual":0.0,"plan":2285.0},"profit":{"actual":0.0,"plan":133.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":1020.0},"sales":{"actual":0.0,"plan":1274.0},"profit":{"actual":0.0,"plan":-490.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":1600.0},"sales":{"actual":0.0,"plan":4467.0},"profit":{"actual":0.0,"plan":251.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":2666.7},"sales":{"actual":0.0,"plan":3696.0},"profit":{"actual":0.0,"plan":142.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":2000.0},"sales":{"actual":0.0,"plan":2276.0},"profit":{"actual":0.0,"plan":282.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":66.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-12_cumulative":{"토목":{"orders":{"actual":201.0,"plan":37514.0},"sales":{"actual":1595.0,"plan":22000.0},"profit":{"actual":92.0,"plan":440.0},"receivable":{"actual":-1091.7,"plan":16414.2}},"건축":{"orders":{"actual":5490.0,"plan":60933.0},"sales":{"actual":1509.0,"plan":23100.0},"profit":{"actual":-301.0,"plan":-175.0},"receivable":{"actual":808.7,"plan":6919.0}},"주택":{"orders":{"actual":6854.0,"plan":50000.0},"sales":{"actual":4745.0,"plan":58200.0},"profit":{"actual":253.0,"plan":2460.0},"receivable":{"actual":1354.4,"plan":40004.2}},"플랜트":{"orders":{"actual":35.0,"plan":32000.0},"sales":{"actual":2970.0,"plan":38500.0},"profit":{"actual":172.0,"plan":-1520.0},"receivable":{"actual":1238.1,"plan":11422.2}},"뉴에너지":{"orders":{"actual":39.0,"plan":24000.0},"sales":{"actual":714.0,"plan":16700.0},"profit":{"actual":54.0,"plan":2045.0},"receivable":{"actual":300.4,"plan":5667.1}},"기타":{"orders":{"actual":123.0,"plan":0.0},"sales":{"actual":123.0,"plan":0.0},"profit":{"actual":85.0,"plan":800.0},"receivable":{"actual":0.0,"plan":0.0}}},"2026-12_monthly":{"토목":{"orders":{"actual":0.0,"plan":2949.0},"sales":{"actual":0.0,"plan":1170.0},"profit":{"actual":0.0,"plan":-188.0},"receivable":{"actual":0.0,"plan":0.0}},"건축":{"orders":{"actual":0.0,"plan":2182.0},"sales":{"actual":0.0,"plan":1743.0},"profit":{"actual":0.0,"plan":236.0},"receivable":{"actual":0.0,"plan":0.0}},"주택":{"orders":{"actual":0.0,"plan":18480.0},"sales":{"actual":0.0,"plan":4668.0},"profit":{"actual":0.0,"plan":-245.0},"receivable":{"actual":0.0,"plan":0.0}},"플랜트":{"orders":{"actual":0.0,"plan":2666.7},"sales":{"actual":0.0,"plan":3913.0},"profit":{"actual":0.0,"plan":209.0},"receivable":{"actual":0.0,"plan":0.0}},"뉴에너지":{"orders":{"actual":0.0,"plan":5400.0},"sales":{"actual":0.0,"plan":1241.0},"profit":{"actual":0.0,"plan":292.0},"receivable":{"actual":0.0,"plan":0.0}},"기타":{"orders":{"actual":0.0,"plan":0.0},"sales":{"actual":0.0,"plan":0.0},"profit":{"actual":0.0,"plan":85.0},"receivable":{"actual":0.0,"plan":0.0}}}},"depts_visible":["토목","건축","주택","플랜트","뉴에너지"],"depts_all":["토목","건축","주택","플랜트","뉴에너지","기타"]};

// ============================================================
// 상수 및 헬퍼
// ============================================================
const DEPTS = DB.depts_visible;         // 테이블에 표시할 5개 본부
const DEPTS_ALL = DB.depts_all;           // 전사합계에 사용할 6개 본부(기타 포함)
const DEPT_COLORS = ['#00c4b4', '#3b82f6', '#f59e0b', '#a855f7', '#ec4899'];
const YEARS = DB.trend_years;
const trendData = DB.trend;

// ── 기준년/월에 따라 실적 데이터 조회 ────────────────────────
// visible: 테이블용 5본부 / all: 전사합계용 6본부(기타포함)
function getDeptData(mode, baseYear, baseMonth) {
  const key = `${baseYear}-${String(baseMonth).padStart(2,'0')}_${mode}`;
  const perf = DB.performance[key];
  if(!perf) {
    const empty = {actual:0, plan:0};
    return DEPTS.map(dept => ({ dept, orders:empty, sales:empty, profit:empty, receivable:empty }));
  }
  return DEPTS.map(dept => ({ dept, ...perf[dept] }));
}

// ── 전사합계 (기타 포함 DEPTS_ALL 기준) ───────────────────────
function getTotals(mode, baseYear, baseMonth) {
  const key = `${baseYear}-${String(baseMonth).padStart(2,'0')}_${mode}`;
  const perf = DB.performance[key];
  const totals = { orders:{actual:0,plan:0}, sales:{actual:0,plan:0}, profit:{actual:0,plan:0}, receivable:{actual:0,plan:0} };
  if(!perf) return totals;
  DEPTS_ALL.forEach(dept => {
    if(!perf[dept]) return;
    for(const k of ['orders','sales','profit','receivable']) {
      totals[k].actual += perf[dept][k].actual;
      totals[k].plan   += perf[dept][k].plan;
    }
  });
  // 소수점 1자리 반올림
  for(const k of ['orders','sales','profit','receivable']) {
    totals[k].actual = Math.round(totals[k].actual * 10) / 10;
    totals[k].plan   = Math.round(totals[k].plan   * 10) / 10;
  }
  return totals;
}

// ============================================================
// 상태
// ============================================================
let mode = 'cumulative';
let deptData = [];
let activeChartDept = 'ALL';
let charts = {};

function getBaseYear() {
  const val = document.getElementById('baseMonth').value;
  if(!val) return new Date().getFullYear();
  return parseInt(val.split('-')[0], 10);
}
function getBaseMonth() {
  const val = document.getElementById('baseMonth').value;
  if(!val) return new Date().getMonth() + 1;
  return parseInt(val.split('-')[1], 10);
}

// ============================================================
// 초기화
// ============================================================
window.addEventListener('DOMContentLoaded', () => {
  // 기준월 기본값 = 실제 최신 데이터 기준월
  document.getElementById('baseMonth').value = '2026-01';
  document.getElementById('baseMonth').addEventListener('change', refresh);

  buildChartTabs();
  refresh();
});

function setMode(m) {
  mode = m;
  document.getElementById('btnCumulative').classList.toggle('active', m==='cumulative');
  document.getElementById('btnMonthly').classList.toggle('active', m==='monthly');
  document.getElementById('modeBadge').textContent = m==='cumulative' ? '누계' : '당월';
  document.getElementById('modeBadge').className = 'section-badge ' + (m==='cumulative' ? 'badge-cumulative' : 'badge-monthly');
  refresh();
}

function refresh() {
  deptData = getDeptData(mode, getBaseYear(), getBaseMonth());
  renderSummary();
  renderTable();
  renderCharts();
}

// ============================================================
// 요약 카드
// ============================================================
function renderSummary() {
  const totals = getTotals(mode, getBaseYear(), getBaseMonth());
  function rate(a,p) { return p ? ((a/p)*100).toFixed(1)+'%' : '—'; }
  function fmt(n) { return n.toLocaleString('ko-KR'); }

  document.getElementById('totalOrders').textContent = fmt(totals.orders.actual);
  document.getElementById('totalOrdersRate').textContent = rate(totals.orders.actual, totals.orders.plan);
  document.getElementById('totalOrdersPlan').textContent = fmt(totals.orders.plan);

  document.getElementById('totalSales').textContent = fmt(totals.sales.actual);
  document.getElementById('totalSalesRate').textContent = rate(totals.sales.actual, totals.sales.plan);
  document.getElementById('totalSalesPlan').textContent = fmt(totals.sales.plan);

  document.getElementById('totalProfit').textContent = fmt(totals.profit.actual);
  document.getElementById('totalProfitRate').textContent = rate(totals.profit.actual, totals.profit.plan);
  document.getElementById('totalProfitPlan').textContent = fmt(totals.profit.plan);

  document.getElementById('totalReceivable').textContent = fmt(totals.receivable.actual);
  document.getElementById('totalReceivableRate').textContent = rate(totals.receivable.actual, totals.receivable.plan);
  document.getElementById('totalReceivablePlan').textContent = fmt(totals.receivable.plan);
}

// ============================================================
// 본부별 테이블
// ============================================================
const PILL_CLASSES = ['pill-teal','pill-blue','pill-amber','pill-purple','pill-red'];
function renderTable() {
  const tbody = document.getElementById('deptTbody');
  const fmt = n => n.toLocaleString('ko-KR');
  const rate = (a,p) => p ? ((a/p)*100).toFixed(1) : '—';
  const barHtml = (a,p) => {
    const pct = p ? Math.min((a/p)*100, 150) : 0;
    const display = p ? ((a/p)*100).toFixed(1)+'%' : '—';
    return `<div class="progress-bar"><div class="bar-track"><div class="bar-fill" style="width:${Math.min(pct,100)}%"></div></div><span class="bar-pct">${display}</span></div>`;
  };

  let rows = '';
  let totals = { o:{a:0,p:0}, s:{a:0,p:0}, pr:{a:0,p:0}, r:{a:0,p:0} };

  deptData.forEach((d, i) => {
    const pc = PILL_CLASSES[i];
    rows += `<tr>
      <td><span class="pill ${pc}">${d.dept}</span></td>
      <td>${fmt(d.orders.actual)}</td>
      <td>${fmt(d.orders.plan)}</td>
      <td>${barHtml(d.orders.actual, d.orders.plan)}</td>
      <td>${fmt(d.sales.actual)}</td>
      <td>${fmt(d.sales.plan)}</td>
      <td>${barHtml(d.sales.actual, d.sales.plan)}</td>
      <td>${fmt(d.profit.actual)}</td>
      <td>${fmt(d.profit.plan)}</td>
      <td>${barHtml(d.profit.actual, d.profit.plan)}</td>
      <td>${fmt(d.receivable.actual)}</td>
      <td>${fmt(d.receivable.plan)}</td>
      <td>${barHtml(d.receivable.actual, d.receivable.plan)}</td>
    </tr>`;
    totals.o.a += d.orders.actual; totals.o.p += d.orders.plan;
    totals.s.a += d.sales.actual; totals.s.p += d.sales.plan;
    totals.pr.a += d.profit.actual; totals.pr.p += d.profit.plan;
    totals.r.a += d.receivable.actual; totals.r.p += d.receivable.plan;
  });
  rows += `<tr class="total-row">
    <td>전사 합계</td>
    <td>${fmt(totals.o.a)}</td><td>${fmt(totals.o.p)}</td><td>${barHtml(totals.o.a,totals.o.p)}</td>
    <td>${fmt(totals.s.a)}</td><td>${fmt(totals.s.p)}</td><td>${barHtml(totals.s.a,totals.s.p)}</td>
    <td>${fmt(totals.pr.a)}</td><td>${fmt(totals.pr.p)}</td><td>${barHtml(totals.pr.a,totals.pr.p)}</td>
    <td>${fmt(totals.r.a)}</td><td>${fmt(totals.r.p)}</td><td>${barHtml(totals.r.a,totals.r.p)}</td>
  </tr>`;
  tbody.innerHTML = rows;
}

// ============================================================
// 차트 탭 구성
// ============================================================
function buildChartTabs() {
  // 본부 탭
  const deptTabsEl = document.getElementById('chartDeptTabs');
  const allDepts = ['ALL', ...DEPTS];
  allDepts.forEach(d => {
    const btn = document.createElement('button');
    btn.className = 'chart-tab' + (d==='ALL' ? ' active' : '');
    btn.textContent = d === 'ALL' ? '전사 합산' : d + '본부';
    btn.onclick = () => {
      activeChartDept = d;
      document.querySelectorAll('.chart-tab').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      renderCharts();
    };
    deptTabsEl.appendChild(btn);
  });

  // 범례
  const legendEl = document.getElementById('deptLegend');
  DEPTS.forEach((d,i) => {
    const item = document.createElement('div');
    item.className = 'dept-legend-item';
    item.innerHTML = `<div class="dept-legend-dot" style="background:${DEPT_COLORS[i]}"></div>${d}`;
    legendEl.appendChild(item);
  });
}

// ============================================================
// 차트 렌더링
// ============================================================
const chartDefaults = {
  responsive: true,
  maintainAspectRatio: false,
  plugins: {
    legend: { display: false },
    tooltip: {
      backgroundColor: '#1a2235',
      borderColor: 'rgba(255,255,255,0.1)',
      borderWidth: 1,
      titleColor: '#9ca3af',
      bodyColor: '#e8eaf0',
      callbacks: {
        label: ctx => ' ' + ctx.parsed.y.toLocaleString('ko-KR') + ' 억원'
      }
    }
  },
  scales: {
    x: {
      grid: { color: 'rgba(255,255,255,0.04)' },
      ticks: { color: '#6b7280', font: { size: 11 } }
    },
    y: {
      grid: { color: 'rgba(255,255,255,0.04)' },
      ticks: { color: '#6b7280', font: { size: 11 },
               callback: v => v.toLocaleString('ko-KR') }
    }
  }
};

function buildDatasets(itemKey) {
  if(activeChartDept === 'ALL') {
    // 모든 본부 합산
    const combined = YEARS.map((_,yi) => DEPTS.reduce((s,d) => s + trendData[d][itemKey][yi], 0));
    return [{
      data: combined,
      borderColor: '#00c4b4',
      backgroundColor: 'rgba(0,196,180,0.08)',
      fill: true,
      tension: 0.4,
      pointRadius: 4,
      pointHoverRadius: 6,
    }];
  } else {
    return [{
      data: trendData[activeChartDept][itemKey],
      borderColor: DEPT_COLORS[DEPTS.indexOf(activeChartDept)],
      backgroundColor: DEPT_COLORS[DEPTS.indexOf(activeChartDept)] + '15',
      fill: true,
      tension: 0.4,
      pointRadius: 4,
      pointHoverRadius: 6,
    }];
  }
}

function renderCharts() {
  const configs = [
    { id:'chartOrders',     key:'orders',     color:'#00c4b4' },
    { id:'chartSales',      key:'sales',      color:'#3b82f6' },
    { id:'chartProfit',     key:'profit',     color:'#f59e0b' },
    { id:'chartReceivable', key:'receivable', color:'#a855f7' },
  ];

  configs.forEach(c => {
    if(charts[c.id]) { charts[c.id].destroy(); }
    const ctx = document.getElementById(c.id).getContext('2d');
    charts[c.id] = new Chart(ctx, {
      type: 'line',
      data: { labels: YEARS.map(y=>y+'년'), datasets: buildDatasets(c.key) },
      options: JSON.parse(JSON.stringify(chartDefaults))
    });
  });

  // 통합 차트
  if(charts['combined']) { charts['combined'].destroy(); }
  const ctxC = document.getElementById('chartCombined').getContext('2d');
  const combinedDatasets = [
    { label:'수주', key:'orders', color:'#00c4b4' },
    { label:'매출', key:'sales', color:'#3b82f6' },
    { label:'손익', key:'profit', color:'#f59e0b' },
    { label:'미수', key:'receivable', color:'#a855f7' },
  ].map(item => {
    const combined = YEARS.map((_,yi) => DEPTS.reduce((s,d) => s + trendData[d][item.key][yi], 0));
    return {
      label: item.label,
      data: combined,
      borderColor: item.color,
      backgroundColor: item.color + '10',
      fill: false,
      tension: 0.4,
      pointRadius: 3,
      pointHoverRadius: 5,
    };
  });
  const combinedOptions = JSON.parse(JSON.stringify(chartDefaults));
  combinedOptions.plugins.legend = {
    display: true,
    position: 'top',
    labels: { color: '#9ca3af', font: { size: 12 }, usePointStyle: true, pointStyleWidth: 8 }
  };
  charts['combined'] = new Chart(ctxC, {
    type: 'line',
    data: { labels: YEARS.map(y=>y+'년'), datasets: combinedDatasets },
    options: combinedOptions
  });
}
</script>
</body>
</html>
